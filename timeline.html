{% extends "base.html" %}

{% block title %}{{ crop.crop_name }} Timeline{% endblock %}

{% block styles %}
    <style>
        .timeline {
            list-style: none;
            padding: 0;
            position: relative;
        }
        .timeline:before {
            content: '';
            position: absolute;
            left: 5px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #28a745;
        }
        .timeline-item {
            position: relative;
            padding-left: 30px;
            margin-bottom: 30px;
        }
        .timeline-item:before {
            content: '';
            position: absolute;
            left: -5px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            border: 4px solid #28a745;
        }
        .timeline-item h3 {
            margin: 0 0 5px 0;
            color: #28a745;
        }
        .timeline-item h3 span {
            font-size: 0.9rem;
            font-weight: 500;
            color: #555;
        }
        .timeline-item p {
            margin: 0;
            color: #333;
        }
    </style>
{% endblock %}

{% block content %}
    <h1>{{ crop.crop_name }}</h1>
    <p style="font-size: 1.2rem; color: #555; margin-top: -10px;">
        Sown on: {{ crop.sowing_date.strftime('%B %d, %Y') }}
    </p>
    <hr style="margin: 2rem 0;">

    <ul class="timeline">
        {% for task in schedule %}
            <li class="timeline-item">
                <h3>
                    {{ task.task_name }} 
                    <span>(Approx. Day {{ task.days_after_sowing }})</span>
                </h3>
                <p>{{ task.details }}</p>
            </li>
        {% else %}
            <li>Could not load timeline.</li>
        {% endfor %}
    </ul>

    <a href="{{ url_for('my_crops') }}" class="btn" style="background-color: #6c757d; margin-top: 2rem;">Back to My Crops</a>
{% endblock %}